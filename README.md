<h1 align="center">è¯­æ - åŸºäºå¤§æ¨¡å‹çš„çŸ¥è¯†åº“ä¸çŸ¥è¯†å›¾è°±é—®ç­”ç³»ç»Ÿ</h1>
<div align="center">

![](https://img.shields.io/badge/Docker-2496ED?style=flat&logo=docker&logoColor=ffffff)
![Vue.js](https://img.shields.io/badge/vuejs-%2335495e.svg?style=flat&logo=vuedotjs&logoColor=%234FC08D)
![FastAPI](https://img.shields.io/badge/FastAPI-005571?style=flat&logo=fastapi)
![](https://img.shields.io/github/issues/xerrors/Yuxi-Know?color=F48D73)
![](https://img.shields.io/github/license/bitcookies/winrar-keygen.svg?logo=github)
![](https://img.shields.io/github/stars/xerrors/Yuxi-Know)

</div>

## ğŸ“ é¡¹ç›®æ¦‚è¿°

è¯­ææ˜¯ä¸€ä¸ªå¼ºå¤§çš„é—®ç­”å¹³å°ï¼Œç»“åˆäº†å¤§æ¨¡å‹ RAG çŸ¥è¯†åº“ä¸çŸ¥è¯†å›¾è°±æŠ€æœ¯ï¼ŒåŸºäº Llamaindex + VueJS + FastAPI + Neo4j æ„å»ºã€‚

**æ ¸å¿ƒç‰¹ç‚¹ï¼š**

- ğŸ¤– å¤šæ¨¡å‹æ”¯æŒï¼šé€‚é… OpenAIã€å„å¤§å›½å†…ä¸»æµå¤§æ¨¡å‹å¹³å°ï¼Œä»¥åŠæœ¬åœ° vllmã€ollama éƒ¨ç½²
- ğŸ“š çµæ´»çŸ¥è¯†åº“ï¼šæ”¯æŒ PDFã€TXTã€MD ç­‰å¤šç§æ ¼å¼æ–‡æ¡£
- ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±é›†æˆï¼šåŸºäº Neo4j çš„çŸ¥è¯†å›¾è°±é—®ç­”èƒ½åŠ›
- ğŸš€ ç®€å•é…ç½®ï¼šåªéœ€é…ç½®å¯¹åº”æœåŠ¡å¹³å°çš„ `API_KEY` å³å¯ä½¿ç”¨
- ğŸ¤– æ™ºèƒ½ä½“æ‹“å±•ï¼šå¯ä»¥ç¼–å†™è‡ªå·±çš„æ™ºèƒ½ä½“ä»£ç ï¼ˆDevè¿‡ç¨‹ï¼Œéæ­£å¼ç‰ˆï¼‰
- âš’ï¸ é€‚åˆäºŒæ¬¡å¼€å‘ï¼šæ›´å¤šçš„å¼€å‘è‡ªå®šä¹‰é¡¹

![ç³»ç»Ÿç•Œé¢é¢„è§ˆ](https://github.com/user-attachments/assets/75010511-4ac5-4924-8268-fea9a589839c)

## ğŸ“‹ æ›´æ–°æ—¥å¿—

- **2025.04.27** - æ”¯æŒ Ollama ç­‰å¸¦æœ‰ `<think>Content</think>` æ ‡ç­¾çš„æ¶ˆæ¯è§£æ
- **2025.03.30** - ç³»ç»Ÿä¸­é›†æˆæ™ºèƒ½ä½“ï¼ˆWIPï¼Œ [PR#96](https://github.com/xerrors/Yuxi-Know/pull/96)ï¼‰
- **2025.02.24** - æ–°å¢ç½‘é¡µæ£€ç´¢ä»¥åŠå†…å®¹å±•ç¤ºï¼Œéœ€é…ç½® `TAVILY_API_KEY`ï¼Œæ„Ÿè°¢ [littlewwwhite](https://github.com/littlewwwhite)
- **2025.02.23** - SiliconFlow çš„ Rerank å’Œ Embedding model æ”¯æŒï¼Œç°é»˜è®¤ä½¿ç”¨ SiliconFlow
- **2025.02.20** - DeepSeek-R1 æ”¯æŒï¼Œéœ€é…ç½® `DEEPSEEK_API_KEY` æˆ– `SILICONFLOW_API_KEY`
- **2024.10.12** - åç«¯ä¿®æ”¹ä¸º [FastAPI](https://github.com/fastapi)ï¼Œæ·»åŠ  [Milvus-Standalone](https://github.com/milvus-io) ç‹¬ç«‹éƒ¨ç½²

### ç¯å¢ƒé…ç½®

åœ¨å¯åŠ¨å‰ï¼Œæ‚¨éœ€è¦æä¾› API æœåŠ¡å•†çš„ API_KEYï¼Œå¹¶æ”¾ç½®åœ¨ `src/.env` æ–‡ä»¶ä¸­ï¼ˆæ­¤æ–‡ä»¶é¡¹ç›®ä¸­æ²¡æœ‰ï¼Œéœ€è¦è‡ªè¡Œå‚è€ƒ [src/.env.template](src/.env.template) åˆ›å»ºï¼‰ã€‚æ›´å¤šå¯é…ç½®é¡¹ï¼Œå¯å‚è€ƒ åé¢**å¯¹è¯æ¨¡å‹**éƒ¨åˆ†ã€‚

é»˜è®¤ä½¿ç”¨ç¡…åŸºæµåŠ¨çš„æœåŠ¡ï¼Œå› æ­¤**å¿…é¡»**é…ç½®ï¼š

```
SILICONFLOW_API_KEY=sk-270ea********8bfa97.e3XOMd****Q1Sk
OPENAI_API_KEY=<API_KEY> # å¦‚æœéœ€è¦é…ç½® openai åˆ™æ·»åŠ æ­¤è¡Œï¼Œå¹¶æ›¿æ¢ API_KEY
DEEPSEEK_API_KEY=<API_KEY>  # å¦‚æœé…ç½® DeepSeek æ·»åŠ æ­¤è¡Œï¼Œå¹¶æ›¿æ¢ API_KEY
ZHIPUAI_API_KEY=<API_KEY>  # å¦‚æœé…ç½® æ™ºè°±æ¸…è¨€ æ·»åŠ æ­¤è¡Œï¼Œå¹¶æ›¿æ¢ API_KEY
```

éœ€è¦ç¡®ä¿è´¦æˆ·æœ‰ä¸€ç‚¹ç‚¹é¢åº¦ä¾›è°ƒç”¨ï¼Œæˆ–ä½¿ç”¨è¿™ä¸ªé“¾æ¥æ³¨å†Œ[SiliconFlow æ³¨å†Œï¼ˆå«é‚€è¯·ç ï¼‰](https://cloud.siliconflow.cn/i/Eo5yTHGJ)è·å¾— 14 å…ƒçš„èµ é€é¢åº¦ã€‚

> æœ¬é¡¹ç›®çš„åŸºç¡€å¯¹è¯æœåŠ¡å¯åœ¨ä¸å«æ˜¾å¡çš„è®¾å¤‡ä¸Šè¿è¡Œï¼Œå¤§æ¨¡å‹ä½¿ç”¨åœ¨çº¿æœåŠ¡å•†çš„æ¥å£ã€‚

### å¯åŠ¨æœåŠ¡

**å¼€å‘ç¯å¢ƒå¯åŠ¨**ï¼ˆæºä»£ç ä¿®æ”¹ä¼šè‡ªåŠ¨æ›´æ–°ï¼‰ï¼š

```bash
docker compose --env-file src/.env up --build
```

> æ·»åŠ  `-d` å‚æ•°å¯åœ¨åå°è¿è¡Œ

æˆåŠŸå¯åŠ¨åï¼Œä¼šçœ‹åˆ°ä»¥ä¸‹å®¹å™¨ï¼š

```
[+] Running 7/7
 âœ” Network docker_app-network       Created
 âœ” Container graph-dev              Started
 âœ” Container milvus-etcd-dev        Started
 âœ” Container milvus-minio-dev       Started
 âœ” Container milvus-standalone-dev  Started
 âœ” Container api-dev                Started
 âœ” Container web-dev                Started
```

è®¿é—® [http://localhost:5173/](http://localhost:5173/) å³å¯ä½¿ç”¨ç³»ç»Ÿã€‚

### ç³»ç»Ÿé¢„è§ˆ

> å¾…è¡¥å……

### æœåŠ¡ç®¡ç†

**å…³é—­æœåŠ¡**ï¼š

```bash
docker compose --env-file src/.env down
```

**æŸ¥çœ‹æ—¥å¿—**ï¼š

```bash
docker logs <å®¹å™¨åç§°>  # ä¾‹å¦‚ï¼šdocker logs api-dev
```

## ğŸ’» æ¨¡å‹æ”¯æŒ

### 1. å¯¹è¯æ¨¡å‹

æœ¬é¡¹ç›®æ”¯æŒé€šè¿‡ API è°ƒç”¨çš„æ¨¡å‹ï¼Œæœ¬åœ°æ¨¡å‹éœ€ä½¿ç”¨ vllmã€ollama è½¬æˆ API æœåŠ¡åä½¿ç”¨ã€‚

| æ¨¡å‹ä¾›åº”å•†             | é»˜è®¤æ¨¡å‹                            | é…ç½®é¡¹ç›®                |
| :--------------------- | :---------------------------------- | :---------------------- |
| `siliconflow` (é»˜è®¤) | `Qwen/Qwen2.5-7B-Instruct` (å…è´¹) | `SILICONFLOW_API_KEY` |
| `openai`             | `gpt-4o`                          | `OPENAI_API_KEY`      |
| `deepseek`           | `deepseek-chat`                   | `DEEPSEEK_API_KEY`    |
| `arc`ï¼ˆè±†åŒ…æ–¹èˆŸï¼‰    | `doubao-1-5-pro-32k-250115`       | `ARK_API_KEY`         |
| `zhipu`ï¼ˆæ™ºè°±æ¸…è¨€ï¼‰  | `glm-4-flash`                     | `ZHIPUAI_API_KEY`     |
| `dashscope`ï¼ˆé˜¿é‡Œï¼‰  | `qwen-max-latest`                 | `DASHSCOPE_API_KEY`   |

#### æ·»åŠ æ–°æ¨¡å‹ä¾›åº”å•†

å¦‚éœ€æ·»åŠ ä¾›åº”å•†æ¨¡å‹ï¼Œäº†è§£ OpenAI è°ƒç”¨æ–¹æ³•åï¼Œåªéœ€åœ¨ [src/static/models.yaml](src/static/models.yaml) ä¸­æ·»åŠ å¯¹åº”é…ç½®ï¼š

```yaml
ark:
  name: è±†åŒ…ï¼ˆArkï¼‰
  url: https://console.volcengine.com/ark/region:ark+cn-beijing/model # æ¨¡å‹åˆ—è¡¨
  default: doubao-1-5-pro-32k-250115 # é»˜è®¤æ¨¡å‹
  base_url: https://ark.cn-beijing.volces.com/api/v3
  env:  # éœ€è¦é…ç½®çš„ç¯å¢ƒå˜é‡ï¼Œä»…é™API key
    - ARK_API_KEY
  models:
    - doubao-1-5-pro-32k-250115
    - doubao-1-5-lite-32k-250115
    - deepseek-r1-250120
```

#### æœ¬åœ°æ¨¡å‹éƒ¨ç½²

æ”¯æŒæ·»åŠ ä»¥ OpenAI å…¼å®¹æ¨¡å¼è¿è¡Œçš„æœ¬åœ°æ¨¡å‹ï¼Œå¯åœ¨ Web è®¾ç½®ä¸­ç›´æ¥æ·»åŠ ï¼ˆé€‚ç”¨äº vllm å’Œ Ollama ç­‰ï¼‰ã€‚

> [!æ³¨æ„]
> ä½¿ç”¨ docker è¿è¡Œæ­¤é¡¹ç›®æ—¶ï¼Œollama æˆ– vllm éœ€ç›‘å¬ `0.0.0.0`

![æœ¬åœ°æ¨¡å‹é…ç½®](./images/custom_models.png)

### 2. å‘é‡æ¨¡å‹ä¸é‡æ’åºæ¨¡å‹

å»ºè®®ä½¿ç”¨ç¡…åŸºæµåŠ¨éƒ¨ç½²çš„ bge-m3ï¼ˆå…è´¹ä¸”æ— éœ€ä¿®æ”¹ï¼‰ã€‚å…¶ä»–æ¨¡å‹é…ç½®å‚è€ƒ [src/static/models.yaml](src/static/models.yaml)ã€‚

å¯¹äº**å‘é‡æ¨¡å‹**å’Œ**é‡æ’åºæ¨¡å‹**ï¼Œé€‰æ‹© `local` å‰ç¼€çš„æ¨¡å‹ä¼šè‡ªåŠ¨ä¸‹è½½ã€‚å¦‚é‡ä¸‹è½½é—®é¢˜ï¼Œè¯·å‚è€ƒ [HF-Mirror](https://hf-mirror.com/) é…ç½®ã€‚

è¦ä½¿ç”¨å·²ä¸‹è½½çš„æœ¬åœ°æ¨¡å‹ï¼š

1. åœ¨ç½‘é¡µè®¾ç½®ä¸­æ·»åŠ æ˜ å°„ï¼š

![image](https://github.com/user-attachments/assets/ab62ea17-c7d0-4f94-84af-c4bab26865ad)

2. å°†æ–‡ä»¶å¤¹æ˜ å°„åˆ° docker å†…éƒ¨

```yml
# docker-compose.yml

services:
  api:
    build:
      context: .
      dockerfile: docker/api.Dockerfile
    container_name: api-dev
    working_dir: /app
    volumes:
      - ./server:/app/server
      - ./src:/app/src
      - ./saves:/app/saves
      - ${MODEL_DIR}:/models <== æ¯”å¦‚ä¿®æ”¹ä¸º /hdd/models:models
    ports:

```

#### æ·»åŠ å‘é‡æ¨¡å‹

æ³¨ï¼šæ·»åŠ æœ¬åœ°å‘é‡æ¨¡å‹ç”±äºåœ¨ docker å†…å¤–çš„è·¯å¾„å·®å¼‚å¾ˆå¤§ï¼Œå› æ­¤å»ºè®®å‚è€ƒå‰é¢çš„è·¯å¾„æ˜ å°„ä¹‹åï¼Œåœ¨è¿™é‡Œæ·»åŠ ã€‚

```yaml
# src/static/models.yaml
  # æ·»åŠ æœ¬åœ°å‘é‡æ¨¡å‹ï¼ˆæ‰€æœ‰ FlagEmbedding æ”¯æŒçš„æ¨¡å‹ï¼‰
  local/BAAI/bge-m3:
    name: BAAI/bge-m3
    dimension: 1024
    # local_path: /models/BAAI/bge-m3ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™é‡Œé…ç½®

  # æ·»åŠ  OpenAI å…¼å®¹çš„å‘é‡æ¨¡å‹
  siliconflow/BAAI/bge-m3:
    name: BAAI/bge-m3
    dimension: 1024
    url: https://api.siliconflow.cn/v1/embeddings
    api_key: SILICONFLOW_API_KEY

  # æ·»åŠ  Ollama æ¨¡å‹
  ollama/nomic-embed-text:
    name: nomic-embed-text
    dimension: 768
```

## ğŸ“š çŸ¥è¯†åº“æ”¯æŒ

æœ¬é¡¹ç›®æ”¯æŒå¤šç§æ ¼å¼çš„çŸ¥è¯†åº“æ–‡ä»¶ï¼šPDFã€TXTã€Markdownã€Docxã€‚

æ–‡ä»¶ä¸Šä¼ åï¼Œç³»ç»Ÿä¼š å¯¹æ–‡ä»¶è¿›è¡Œåˆ†å—ã€ç´¢å¼•ã€å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ï¼ˆMilvusï¼‰ä¸­ï¼Œæ­¤è¿‡ç¨‹å¯èƒ½éœ€è¦ä¸€å®šæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚

## ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±æ”¯æŒ

æœ¬é¡¹ç›®ä½¿ç”¨ Neo4j ä½œä¸ºçŸ¥è¯†å›¾è°±å­˜å‚¨ã€‚æ‚¨éœ€è¦å°†å›¾è°±æ•´ç†æˆ jsonl æ ¼å¼ï¼Œæ¯è¡Œæ ¼å¼ä¸ºï¼š

```
{"h": "åŒ—äº¬", "t": "ä¸­å›½", "r": "é¦–éƒ½"}
```

ç„¶ååœ¨ç½‘é¡µçš„å›¾è°±ç®¡ç†ä¸­æ·»åŠ æ­¤æ–‡ä»¶ã€‚

> [!è¯´æ˜]
> ç°é˜¶æ®µé¡¹ç›®ä½¿ç”¨çš„ OneKE è‡ªåŠ¨åˆ›å»ºçŸ¥è¯†å›¾è°±æ•ˆæœä¸ä½³ï¼Œå·²æš‚æ—¶ç§»é™¤ï¼Œå»ºè®®åœ¨é¡¹ç›®å¤–åˆ›å»ºçŸ¥è¯†å›¾è°±

ç³»ç»Ÿå¯åŠ¨åä¼šè‡ªåŠ¨å¯åŠ¨ neo4j æœåŠ¡ï¼š

- è®¿é—®åœ°å€ï¼š[http://localhost:7474/](http://localhost:7474/)
- é»˜è®¤è´¦æˆ·ï¼š`neo4j`
- é»˜è®¤å¯†ç ï¼š`0123456789`

å¯åœ¨ `docker-compose.yml` ä¸­ä¿®æ”¹é…ç½®ï¼ˆæ³¨æ„åŒæ—¶ä¿®æ”¹ `api.environment` å’Œ `graph.environment`ï¼‰ã€‚

ç›®å‰é¡¹ç›®æš‚ä¸æ”¯æŒåŒæ—¶æŸ¥è¯¢å¤šä¸ªçŸ¥è¯†å›¾è°±ã€‚å¦‚å·²æœ‰åŸºäº neo4j çš„çŸ¥è¯†å›¾è°±ï¼Œå¯åˆ é™¤ `docker-compose.yml` ä¸­çš„ `graph` é…ç½®é¡¹ï¼Œå¹¶ä¿®æ”¹ `api.environment` ä¸­çš„ `NEO4J_URI` ä¸ºæ‚¨çš„ neo4j æœåŠ¡åœ°å€ã€‚åŒæ—¶ï¼Œéœ€è¦ç¡®ä¿èŠ‚ç‚¹çš„æ ‡ç­¾ä¸­åŒ…å« Entity æ ‡ç­¾ï¼Œæ‰èƒ½æ­£å¸¸è§¦å‘ç´¢å¼•ã€‚

## è´¡çŒ®è€…åå•

æ„Ÿè°¢ä»¥ä¸‹è´¡çŒ®è€…çš„æ”¯æŒï¼

<a href="https://github.com/xerrors/Yuxi-Know/contributors">
    <img src="https://contributors.nn.ci/api?repo=xerrors/Yuxi-Know" alt="è´¡çŒ®è€…åå•">
</a>

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=xerrors/Yuxi-Know)](https://star-history.com/#xerrors/Yuxi-Know)
